<!DOCTYPE html>
<html>

<head>
<link rel="stylesheet" href="http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css" media="screen"/>

<link rel="stylesheet" href="css/main.css"/>

	<title>Memory Game</title>

</head>

<body>
<div id="container">
	<h1>Memory Game</h1>

	<div id="game">
		<ul class="board">
			<li data-name="octobiwan"><img src="images/octobiwan.png"></li>
			<li data-name="andycat"><img src="images/andycat.png"></li>
			<li data-name="professortocat"><img src="images/professortocat.png"></li>
			<li data-name="droidtocat"><img src="images/droidtocat.png"></li>
			<li data-name="linktocat"><img src="images/linktocat.png"></li>
			<li data-name="droidtocat"><img src="images/droidtocat.png"></li>
			<li data-name="spocktocat"><img src="images/spocktocat.png"></li>
			<li data-name="andycat"><img src="images/andycat.png"></li>
			<li data-name="stormtroopocat"><img src="images/stormtroopocat.png"></li>
			<li data-name="linktocat"><img src="images/linktocat.png"></li>
			<li data-name="kimonotocat"><img src="images/kimonotocat.png"></li>
			<li data-name="octdreycatburn"><img src="images/octdreycatburn.png"></li>
			<li data-name="spocktocat"><img src="images/spocktocat.png"></li>
			<li data-name="octobiwan"><img src="images/octobiwan.png"></li>
			<li data-name="strongbadtocat"><img src="images/strongbadtocat.png"></li>
			<li data-name="octdreycatburn"><img src="images/octdreycatburn.png"></li>
			<li data-name="professortocat"><img src="images/professortocat.png"></li>
			<li data-name="strongbadtocat"><img src="images/strongbadtocat.png"></li>
			<li data-name="stormtroopocat"><img src="images/stormtroopocat.png"></li>
			<li data-name="kimonotocat"><img src="images/kimonotocat.png"></li>
		</ul>
	</div>

	<input type="submit" value="Reset" id="reset">
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
</script>
<script type="text/javascript">
 	
 	var startTime;

	var selectCard = function() {
		var $this = $(this);
		$this.addClass("selected")
		if ($(".selected").size() == 2) {
			setTimeout(checkPattern,1400);
		}

		if (startTime === undefined) {
			startTime = new Date();
		}
	}

	var checkPattern = function() {
		if (isMatchPattern()) {
			$(".selected").removeClass("selected").addClass("removed").unbind("click");
			if ($(".removed").length == 20) {
				var endDate = new Date();
				var endTime = endDate - startTime;
				var seconds = endTime / 1000;
				alert("Game Over! It took you " + seconds + " seconds to finish the game!");
			}
		} else {
			$(".selected").removeClass("selected");
		}
	}
 
	var isMatchPattern = function() {
		var cards = $(".selected");
		var pattern = $(cards[0]).data("name");
		var anotherPattern = $(cards[1]).data("name");
		return (pattern == anotherPattern)
	}

	var resetGame = function() {
		startTime = undefined;
		$(".removed").removeClass("removed").bind("click",selectCard);
	}

	$("#reset").click(resetGame);
 	$(".board li").click(selectCard);

</script>
</body>

</html>




